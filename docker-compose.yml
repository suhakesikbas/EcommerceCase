version: '3.8'

services:
  # Order Service
  orderservice:
    build:
      context: .
      dockerfile: src/Services/OrderService/OrderService.Api/Dockerfile
    container_name: orderservice
    ports:
      - "5001:8080"
      - "5002:8081"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ASPNETCORE_URLS=http://+:8080;https://+:8081
    networks:
      - ecommerce-network

  # Stock Service
  stockservice:
    build:
      context: .
      dockerfile: src/Services/StockService/StockService.Api/Dockerfile
    container_name: stockservice
    ports:
      - "5003:8080"
      - "5004:8081"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ASPNETCORE_URLS=http://+:8080;https://+:8081
    networks:
      - ecommerce-network

  # Notification Service
  notificationservice:
    build:
      context: .
      dockerfile: src/Services/NotificationService/NotificationService.Api/Dockerfile
    container_name: notificationservice
    ports:
      - "5005:8080"
      - "5006:8081"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ASPNETCORE_URLS=http://+:8080;https://+:8081
    networks:
      - ecommerce-network

networks:
  ecommerce-network:
    driver: bridge

volumes:
  ecommerce-data: